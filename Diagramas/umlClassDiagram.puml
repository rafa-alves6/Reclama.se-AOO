@startuml
title Sistema de Denúncias - Diagrama de Classes Geral

abstract class Usuario {
  - id: int
  - nome: String
  - email: String
  - status: StatusUsuario
  --
  + autenticar(): void
}

class Cidadao extends Usuario {
  + enviarDenuncia(): void
  + enviarFeedback(): void
}

class Moderador extends Usuario {
  + avaliarDenuncia(): void
}


class Denuncia {
  - id: int
  - descricao: String
  - status: StatusDenuncia
  - dataCriacao: Date
  --
  + validarAnexos(): boolean
  + publicar(): void
}

class Arquivo {
  - nome: String
  - tipo: String
  - tamanho: int
  - status: StatusArquivo
  --
  + compativel(): boolean
}

class Avaliacao {
  - id: int
  - data: Date
  - status: StatusAvaliacao
  --
  + avaliar(): void
}

class Resposta {
  - id: int
  - texto: String
  - data: Date
  --
  + emitir(): void
}

class Orgao {
  - id: int
  - nome: String
  - responsavel: String
  --
  + emitirResposta(): void
}

class Feedback {
  - id: int
  - mensagem: String
  - data: Date
  - status: StatusFeedback
  --
  + enviar(): void
}


enum StatusUsuario {
  ATIVO
  INATIVO
  BLOQUEADO
}

enum StatusDenuncia {
  PENDENTE
  AVALIADA
  RESPONDIDA
}

enum StatusArquivo {
  ADICIONADO
  VALIDANDO
  ACEITO
  RECUSADO
}

enum StatusAvaliacao {
  PENDENTE
  VALIDADA
  INVALIDA
}

enum StatusFeedback {
  ENVIADO
  VISUALIZADO
  ENCERRADO
}

Cidadao --o Denuncia : faz
Cidadao --o Feedback : envia

Denuncia --o Arquivo : contém
Denuncia --o Avaliacao : avaliada_por
Denuncia --o Resposta : tem

Avaliacao --> Moderador : feita_por
Resposta --> Orgao : emitida_por

@enduml
